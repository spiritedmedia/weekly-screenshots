!function(){"use strict";function c(t,e){var n=!1;return function(){n||(t.call(),n=!0,setTimeout(function(){n=!1},e))}}function s(t){if(0<t.length){var e=t[0],n=e.value.length;(e.selectionStart||"0"==e.selectionStart)&&(e.selectionStart=n,e.selectionEnd=n,e.focus())}}!function(d,l,i,o){var t,e;t=["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"],(e=d("head")).prepend(d.map(t,function(t){if(0===e.has("."+t).length)return'<meta class="'+t+'" />'})),d(function(){"undefined"!=typeof FastClick&&void 0!==i.body&&FastClick.attach(i.body)});var u=function(t,e){if("string"!=typeof t)return d(t,e);if(e){var n;if(e.jquery){if(!(n=e[0]))return e}else n=e;return d(n.querySelectorAll(t))}return d(i.querySelectorAll(t))},n=function(t){var e=[];return t||e.push("data"),0<this.namespace.length&&e.push(this.namespace),e.push(this.name),e.join("-")},a=function(t){for(var e=t.split("-"),n=e.length,a=[];n--;)0!==n?a.push(e[n]):0<this.namespace.length?a.push(this.namespace,e[n]):a.push(e[n]);return a.reverse().join("-")},s=function(n,a){var i=this,t=function(){var t=u(this),e=!t.data(i.attr_name(!0)+"-init");t.data(i.attr_name(!0)+"-init",d.extend({},i.settings,a||n,i.data_options(t))),e&&i.events(this)};if(u(this.scope).is("["+this.attr_name()+"]")?t.call(this.scope):u("["+this.attr_name()+"]",this.scope).each(t),"string"==typeof n)return this[n].call(this,a)};function r(t){this.selector=t,this.query=""}l.matchMedia||(l.matchMedia=function(){var e=l.styleMedia||l.media;if(!e){var n,a=i.createElement("style"),t=i.getElementsByTagName("script")[0];a.type="text/css",a.id="matchmediajs-test",t.parentNode.insertBefore(a,t),n="getComputedStyle"in l&&l.getComputedStyle(a,null)||a.currentStyle,e={matchMedium:function(t){var e="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return a.styleSheet?a.styleSheet.cssText=e:a.textContent=e,"1px"===n.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(e){for(var n,i=0,t=["webkit","moz"],a=l.requestAnimationFrame,o=l.cancelAnimationFrame,s=void 0!==e.fx;i<t.length&&!a;i++)a=l[t[i]+"RequestAnimationFrame"],o=o||l[t[i]+"CancelAnimationFrame"]||l[t[i]+"CancelRequestAnimationFrame"];function r(){n&&(a(r),s&&e.fx.tick())}a?(l.requestAnimationFrame=a,l.cancelAnimationFrame=o,s&&(e.fx.timer=function(t){t()&&e.timers.push(t)&&!n&&(n=!0,r())},e.fx.stop=function(){n=!1})):(l.requestAnimationFrame=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-i)),a=l.setTimeout(function(){t(e+n)},n);return i=e+n,a},l.cancelAnimationFrame=function(t){clearTimeout(t)})}(d),r.prototype.toString=function(){return this.query||(this.query=u(this.selector).css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""))},l.Foundation={name:"Foundation",version:"5.5.3",media_queries:{small:new r(".foundation-mq-small"),"small-only":new r(".foundation-mq-small-only"),medium:new r(".foundation-mq-medium"),"medium-only":new r(".foundation-mq-medium-only"),large:new r(".foundation-mq-large"),"large-only":new r(".foundation-mq-large-only"),xlarge:new r(".foundation-mq-xlarge"),"xlarge-only":new r(".foundation-mq-xlarge-only"),xxlarge:new r(".foundation-mq-xxlarge")},stylesheet:d("<style></style>").appendTo("head")[0].sheet,global:{namespace:o},init:function(t,e,n,a,i){var o=[t,n,a,i],s=[];if(this.rtl=/rtl/i.test(u("html").attr("dir")),this.scope=t||this.scope,this.set_namespace(),e&&"string"==typeof e&&!/reflow/i.test(e))this.libs.hasOwnProperty(e)&&s.push(this.init_lib(e,o));else for(var r in this.libs)s.push(this.init_lib(r,e));return u(l).load(function(){u(l).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),t},init_lib:function(t,e){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),e&&e.hasOwnProperty(t)?(void 0!==this.libs[t].settings?d.extend(!0,this.libs[t].settings,e[t]):void 0!==this.libs[t].defaults&&d.extend(!0,this.libs[t].defaults,e[t]),this.libs[t].init.apply(this.libs[t],[this.scope,e[t]])):(e=e instanceof Array?e:new Array(e),this.libs[t].init.apply(this.libs[t],e))):function(){}},patch:function(t){t.scope=this.scope,t.namespace=this.global.namespace,t.rtl=this.rtl,t.data_options=this.utils.data_options,t.attr_name=n,t.add_namespace=a,t.bindings=s,t.S=this.utils.S},inherit:function(t,e){for(var n=e.split(" "),a=n.length;a--;)this.utils.hasOwnProperty(n[a])&&(t[n[a]]=this.utils[n[a]])},set_namespace:function(){var t=this.global.namespace===o?d(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=t===o||/false/i.test(t)?"":t},libs:{},utils:{S:u,throttle:function(n,a){var i=null;return function(){var t=this,e=arguments;null==i&&(i=setTimeout(function(){n.apply(t,e),i=null},a))}},debounce:function(a,i,o){var s,r;return function(){var t=this,e=arguments,n=o&&!s;return clearTimeout(s),s=setTimeout(function(){s=null,o||(r=a.apply(t,e))},i),n&&(r=a.apply(t,e)),r}},data_options:function(t,e){e=e||"options";var n,a,i,o,s,r,l={},u=(o=t,0<(s=Foundation.global.namespace).length?o.data(s+"-"+e):o.data(e));if("object"==typeof u)return u;function c(t){return"string"==typeof t?d.trim(t):t}for(n=(i=(u||":").split(";")).length;n--;)a=[(a=i[n].split(":"))[0],a.slice(1).join(":")],/true/i.test(a[1])&&(a[1]=!0),/false/i.test(a[1])&&(a[1]=!1),r=a[1],isNaN(r-0)||null===r||""===r||!1===r||!0===r||(-1===a[1].indexOf(".")?a[1]=parseInt(a[1],10):a[1]=parseFloat(a[1])),2===a.length&&0<a[0].length&&(l[c(a[0])]=c(a[1]));return l},register_media:function(t,e){var n;Foundation.media_queries[t]===o&&(d("head").append('<meta class="'+e+'"/>'),Foundation.media_queries[t]=(("string"==typeof(n=d("."+e).css("font-family"))||n instanceof String)&&(n=n.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),n))},add_custom_rule:function(t,e){e===o&&Foundation.stylesheet?Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length):Foundation.media_queries[e]!==o&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+t+" }",Foundation.stylesheet.cssRules.length)},image_loaded:function(t,e){var n=this,a=t.length;(0===a||function(t){for(var e=t.length-1;0<=e;e--)if(t.attr("height")===o)return!1;return!0}(t))&&e(t),t.each(function(){!function(t,e){function n(){e(t[0])}t.attr("src")?t[0].complete||4===t[0].readyState?n():function(){if(this.one("load",n),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}.call(t):n()}(n.S(this),function(){0===(a-=1)&&e(t)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(t){return l.matchMedia(t).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},d.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(t)),this})}}(jQuery,window,window.document);var r=480<=$(window).width()?1:0;function n(t){var e=$(this),n=e.data("youtube-id");if(n){var a=e.parents(".js-yt-placeholder"),i={autoplay:1,cc_load_policy:1,color:"white",controls:r,rel:0,showinfo:0},o=$.param(i),s="<iframe ";s+='src="'+"https://www.youtube.com/embed/".concat(n,"?").concat(o)+'" ',s+='frameborder="0" ',s+="allowfullscreen ",s+="/>",a.append(s),e.fadeOut(750,function(){e.remove()}),t.preventDefault()}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function l(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}var t=$("body");t.addClass("has-closed-modal");var u=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([readonly])','select:not([disabled]):not([type="hidden"]):not([readonly])','textarea:not([disabled]):not([type="hidden"]):not([readonly])','button:not([disabled]):not([type="hidden"]):not([readonly])',"iframe","object","embed","*[tabindex]","*[contenteditable]"].join(),d=[],h=function(){function e(){i(this,e);var t={uniqueID:"modal-"+d.length};return arguments[0]&&"object"===a(arguments[0])&&(this.options=$.extend(arguments[0],t)),this.$target=$("#"+this.options.target),this.modalClass=this.$target.data("modal-class"),this.isOpen=!1,this.$site=$(".js-site"),this.$modal=$("#modal"),this.$modalContent=$("#modal-content"),this.$modalOverlay=$("#modal-overlay"),this.$modalOverlay.on("click",this,function(t){t.data.close()}),this.$modalFrame=$("#modal-frame"),this.$modalFrame.on("click",this,function(t){var e=$(t.target),n=t.data;(e.is(".js-modal__frame")||e.is(".js-modal__close-button")||e.parents(".js-modal__close-button").length)&&n.close()}).on("keydown",this,function(t){var e=t.data;27==t.which&&(e.close(),t.preventDefault())}),d.push(this),arguments[1]&&"function"==typeof arguments[1]&&arguments[1].call(this),this}return l(e,[{key:"getOptions",value:function(){return this.options}},{key:"isOpen",value:function(){return this.isOpen}},{key:"open",value:function(){this.$modalTriggerElement=$(document.activeElement),this.closeAll(),this.$placeholder=$("<div></div>").hide(),this.$target.after(this.$placeholder),this.$detached=this.$target.detach(),this.$modalContent.append(this.$detached),this.$modal.addClass(this.modalClass),this.trigger("modal:open"),this.$site.attr("tabindex","-1").attr("aria-hidden",!0).find(u).attr("tabindex","-1"),t.removeClass("has-closed-modal").addClass("has-open-modal"),this.$modalFrame.removeAttr("aria-hidden"),this.$modalContent.attr("tabindex","0").focus(),this.isOpen=!0,this.trigger("modal:opened")}},{key:"close",value:function(){if(!this.isOpen)return!1;t.removeClass("has-open-modal").addClass("has-closed-modal"),this.$placeholder.replaceWith(this.$target),this.$modalContent.html(""),this.$modalFrame.attr("aria-hidden","true"),this.$modal.removeClass(this.modalClass),this.trigger("modal:close"),this.$site.removeAttr("tabindex").removeAttr("aria-hidden").find(u).removeAttr("tabindex"),this.$modalTriggerElement.focus(),this.$modalTriggerElement=null,this.isOpen=!1}},{key:"closeAll",value:function(){for(var t=0;t<d.length;t++)d[t].close()}},{key:"on",value:function(t,e){var n=t+"-"+this.options.uniqueID;return this.$modalContent.on(n,e),this}},{key:"trigger",value:function(t){var e=t+"-"+this.options.uniqueID;this.$modalContent.trigger(e,this)}}]),e}();function f(t,e,n){var a,i,o=jQuery,s=o(window),r=[];if(this.selector=t,this.label=e,this.percs=n,this.$element=o(this.selector),this.eventNamespace="scroll.depth"+(i=this.label,(a=i.replace(/\s(.)/g,function(t){return t.toUpperCase()}).replace(/\s/g,"").replace(/^(.)/,function(t){return t.toLowerCase()})).charAt(0).toUpperCase()+a.slice(1)),this.$element.length){var l=o.proxy(function(){var t,e,n={},a=this.percs,i=this.$element.offset().top,o=this.$element.height();a.sort(function(t,e){return t-e});for(var s=0;s<a.length;s++)switch(e=(t=a[s])+"%",t){case 0:n[e]=i;break;case 100:n[e]=o-5+i;break;default:n[e]=parseInt(o*(.01*t),10)+i}return n},this),u=o.proxy(function(i){this.$element.length&&i>=this.$element.offset().top&&o.each(l(),o.proxy(function(t,e){var n,a;-1===o.inArray(t,r)&&e<=i&&(n=t,a=this.label,"function"==typeof window.ga&&window.ga("send","event","post-scroll-depth",n,a,null,{nonInteraction:!0}),r.push(t))},this))},this);s.on(this.eventNamespace,c(o.proxy(function(){var t=window.innerHeight||s.height(),e=s.scrollTop()+t;r.length>=this.percs.length||!this.$element.length?s.off(this.eventNamespace):u(e)},this),750))}}function m(o){this.result=!1;var s=o(".js-share-buttons-top"),e=o(".js-share-buttons-bottom"),r=o(".js-share-buttons-bottom-placeholder");if(s.length&&e.length){var l=o(window),n=e.find(".js-share-button");this.getCutoffs=function(){var t=o("#wpadminbar"),e=s.offset(),n=e?e.top+s.height():0,a=r.offset(),i=a?a.top-l.height():0;return 0<t.length&&(n-=t.height()),{top:n,bottom:i}},this.cutoffs=this.getCutoffs(),this.scroll=function(){var t=l.scrollTop();t<this.cutoffs.top?e.hide():(e.show(),t<this.cutoffs.bottom?this.updateBottomButtonsLabel("sticky"):this.updateBottomButtonsLabel("bottom"))},this.resize=function(){this.cutoffs=this.getCutoffs()},this.updateBottomButtonsLabel=function(t){n.attr("data-ga-label",t).data("ga-label",t)},this.result=!0}}function p(t){t.preventDefault();var n=$(this),a=n.parent(),i=n.find(".js-form-submit"),o=n.find(".js-fail-message"),e=n.attr("action"),s=0<=e.indexOf("?")?"&":"?";e+=s+$.param({"ajax-request":1}),a.removeClass("is-failed").addClass("is-loading"),o.removeAttr("role"),$.post(e,n.serialize(),function(){if(n.find(".js-success-message").length){var t=n.find(".js-success-message-email"),e=n.find(".js-email-input").val();a.removeClass("is-loading").addClass("is-success"),n.trigger("pedFormSubmission:success",[{emailAddress:e}]),e&&t.length&&t.text(e).addClass("u-font-weight--bold")}}).fail(function(t){var e=t.responseText;a.removeClass("is-loading").addClass("is-failed"),o.length&&e.length?o.attr("role","alert").text(e):i.before(e)})}var g,e,y=function(){function t(){var n=this;i(this,t),this.storageKey="contactData",this.version=3,$(document).on("ready",function(){var t=localStorageCookie("subscriberData");t&&"data"in t&&(localStorageCookie("subscriberData",""),localStorageCookie(n.storageKey,t));var e=localStorageCookie(n.storageKey);e&&"data"in e&&n.triggerEvent("ready",e)}),$(".js-signup-email-form").on("pedFormSubmission:success",function(t,e){return n.listenForEmailSignups(t,e)}),this.maybeRefresh()}return l(t,[{key:"maybeRefresh",value:function(){var t=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a={};return e||(e=location.search),e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,n){a[e]=n}),t?a[t]:a}("mc_eid"),e=localStorageCookie(this.storageKey);if(e&&"data"in e){var n=!1;if("mc_id"in e.data&&(n=e.data.mc_id),"version"in e&&e.version!=this.version)return this.fetchData(n),!0;if("updated"in e){var a=(new Date).getTime()/1e3,i=new Date(e.updated).getTime()/1e3;if((i+=1209600)<=a)return this.fetchData(n),!0}this.triggerEvent("ready",e)}else if(t)return this.fetchData(t),!0;return!1}},{key:"fetchData",value:function(t){var e=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],a={action:"get_contact_data",contactID:t},i=this.storageKey;$.post(PedVars.ajaxurl,a,function(t){t.success&&(localStorageCookie(i,t.data),n&&e.triggerEvent("ready",t.data))})}},{key:"listenForEmailSignups",value:function(t,e){"emailAddress"in e&&this.fetchData(e.emailAddress,!1)}},{key:"triggerEvent",value:function(t,e){var n="pedContact:"+t;$(document).trigger(n,[e])}}]),t}();function v(t,e){if(!$("body").is(".is-target-audience--disabled")&&"data"in e){var n,a=e.data,i=!1;"current_member"in a&&a.current_member?i="member":"donate_365"in a&&a.donate_365?i="donor":"newsletter_subscriber"in a&&a.newsletter_subscriber&&(i="subscriber"),i&&(n=i,$("body").removeClass(function(t,e){var n=e.match(/(^|\s)(is-target-audience)\S+/g);return n||(n=[]),n.join(" ")}).addClass("is-target-audience--"+n))}}g=jQuery,e={init:function(){var i,o,e,t=g(document);t.foundation(),g("html").removeClass("no-js").addClass("js"),function(){function s(t,e,n,a){console.group("Google Analytics Event Data"),console.log("Category: ",t),console.log("Action: ",e),console.log("Label: ",n),a&&console.log("Value: ",a),console.groupEnd()}var r=!1;$("body").is(".js-debug-ga")&&(r=!0),("function"==typeof ga||r)&&($("body").on("click","a[data-ga-category]",function(t){var e=$(this),n=e.data("ga-category"),a=e.data("ga-action")||t.currentTarget.href,i=e.data("ga-label"),o=parseInt(e.data("ga-value"))||null;if(r)return s(n,a,i,o),void t.preventDefault();ga("send","event",n,a,i,o)}).on("submit","form[data-ga-category]",function(t){var e=$(this),n=e.data("ga-category"),a=e.data("ga-action")||e.attr("action"),i=e.data("ga-label"),o=null;if(e.is(".js-donate-form")&&((a=e.find(".js-donate-form-frequency:checked").val())||(a="once"),o=e.find(".js-donate-form-amount").val()),r)return s(n,a,i,o),void t.preventDefault();ga("send","event",n,a,i,o)}),$(".js-main").on("click","a",function(t){var e=$(this),n=e.data("ga-category");if(!n){n="post-content";var a=e.data("ga-action")||t.currentTarget.href,i=e.data("ga-label")||"link",o=parseInt(e.data("ga-value"))||null;if(r)return s(n,a,i,o),void t.preventDefault();ga("send","event",n,a,i,o)}}),$(".js-rail").on("click","a",function(t){var e=$(this),n=e.data("ga-category");if(!n){n="sidebar";var a=e.data("ga-action")||t.currentTarget.href,i=e.data("ga-label")||"link",o=parseInt(e.data("ga-value"))||null;if(r)return s(n,a,i,o),void t.preventDefault();ga("send","event",n,a,i,o)}}))}(),o=$(".js-donate-form"),e=o.data("nrh-endpoint-domain"),o.on("change",".js-donate-form-frequency",function(){var t;t=""===$(this).val()?"/donateform":"/memberform",o.attr("action",e+t)}),o.on("submit",function(){if("undefined"!=typeof gaLinkTrackerParam){var t=gaLinkTrackerParam.split("=");2===t.length&&o.append('<input type="hidden" name="'.concat(t[0],'" value="').concat(t[1],'">'))}}),o.on("change",".js-donate-form-frequency",function(){var t=o.find(".js-donate-form-amount"),e=$(this).val(),n=parseInt(t.val()),a=n;"yearly"===e&&""!==i||""===e&&"yearly"!==i?a=12*n:"monthly"===e&&(a=n/12),a=Math.ceil(a),t.val(a),i=e}),$(".js-modal-trigger").each(function(t,e){var n=$(e),a=n.data("modal-id");if(a){var i=new h({target:a});"search-modal"==a&&i.on("modal:opened",function(){s($(".js-modal-search-field"))}),n.on("click",i,function(t){t.data.open(),t.preventDefault()})}}),new f(".js-original-content-body","",[0,50,100]),jQuery(window).on("load",function(){var t=jQuery,e=t(window),n=new m(t),a=n.result;if(!a)return!1;n.updateBottomButtonsLabel("sticky");var i=t.proxy(n.scroll,n);e.on("scroll",c(i,50));var o=t.proxy(n.resize,n);e.on("resize",c(o,250));var s=o;return"function"==typeof MutationObserver&&new MutationObserver(function(t){t.forEach(function(){s.call()})}).observe(document.body,{attributes:!1,childList:!0,characterData:!1}),a}),this.Contact=new y,t.on("pedContact:ready",v),g(".js-signup-email-form").on("submit",p),g(".content-wrapper").on("click",".js-yt-placeholder-link",n),s(g("#search-standalone-input")),this.disabledAnchors(),this.honeyPotHelper()},disabledAnchors:function(){g("a.disabled").click(function(t){t.preventDefault()})},honeyPotHelper:function(){var t=(new Date).getFullYear();g(".js-pedestal-current-year-check").val(t)}},g(document).ready(function(){e.init()})}();